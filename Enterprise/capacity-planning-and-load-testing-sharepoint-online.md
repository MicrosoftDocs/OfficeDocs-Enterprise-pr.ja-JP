---
title: SharePoint Online のキャパシティ プランニングとロード テスト
ms.author: krowley
author: kccross
manager: laurawi
ms.date: 03/14/2019
ms.audience: Admin
ms.topic: conceptual
ms.service: o365-administration
localization_priority: Normal
ms.collection: Ent_O365
ms.custom: Adm_O365
search.appverid: SPO160
ms.assetid: c932bd9b-fb9a-47ab-a330-6979d03688c0
description: この記事では、従来のロードテストを実行せずに SharePoint Online に展開する方法について説明します。これは許可されていないためです。
ms.openlocfilehash: 16525e461d9c6e04b03ffc19376f9a7d93c6aab1
ms.sourcegitcommit: 4ef8e113fa20b539de1087422455fc26ff123d55
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/18/2019
ms.locfileid: "30665190"
---
# <a name="capacity-planning-and-load-testing-sharepoint-online"></a><span data-ttu-id="525fe-103">容量計画と負荷テスト SharePoint Online。</span><span class="sxs-lookup"><span data-stu-id="525fe-103">Capacity planning and load testing SharePoint Online.</span></span>

<span data-ttu-id="525fe-104">この記事では、sharepoint online でロードテストが許可されていないため、従来のロードテストを行わずに sharepoint online に展開する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="525fe-104">This article describes how you can deploy to SharePoint Online without traditional load testing, since load-testing is not permitted on SharePoint Online.</span></span> <span data-ttu-id="525fe-105">SharePoint Online はクラウドサービスです。サービスにおける負荷の負荷の状態と全体的なバランスが Microsoft によって管理されています。</span><span class="sxs-lookup"><span data-stu-id="525fe-105">SharePoint Online is a cloud service the load capabilities, health and overall balance of load in the service is managed by Microsoft.</span></span>
  
<span data-ttu-id="525fe-106">サイトを正常に起動するための最善の方法は、以下で強調表示されている基本的な原則、ベストプラクティス、推奨事項に従うことです。</span><span class="sxs-lookup"><span data-stu-id="525fe-106">The best approach to ensuring the success of launching your site is to follow basic principles, practices and recommendations which are highlighted below.</span></span>
  
<span data-ttu-id="525fe-107">オンプレミス環境では、負荷テストを使用してスケールの仮定を検証し、最終的にはファームの限界点を見つけます。負荷で飽和状態にします。</span><span class="sxs-lookup"><span data-stu-id="525fe-107">With on-premises environments, load testing is used to validate scale assumption and ultimately find the breaking point of a farm; by saturating it with load.</span></span> <span data-ttu-id="525fe-108">SharePoint Online では、異なる操作を行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="525fe-108">With SharePoint Online we need to do things differently.</span></span> <span data-ttu-id="525fe-109">マルチテナント環境の場合は、同じファーム内のすべてのテナントを保護する必要があるため、すべてのロードテストが自動的に調整されます。</span><span class="sxs-lookup"><span data-stu-id="525fe-109">Being a multi-tenant environment, we must protect all tenants in the same farm, so we will automatically throttle any load tests.</span></span> <span data-ttu-id="525fe-110">これは、環境のロードテストを試みると、disappointing を受け取り、誤解を招く可能性がある結果を受信することを意味します。</span><span class="sxs-lookup"><span data-stu-id="525fe-110">This means you will receive disappointing and potentially misleading results if you attempt to load test your environment.</span></span>
  
<span data-ttu-id="525fe-111">オンプレミス展開による SharePoint Online の主な利点の1つは、クラウドの弾力性です。</span><span class="sxs-lookup"><span data-stu-id="525fe-111">One of the main benefits of SharePoint Online over an on-premises deployment is the elasticity of the cloud.</span></span> <span data-ttu-id="525fe-112">大規模な環境では、数百万のユーザーに対して日常的にサービスを提供するように設定されているため、ファームの分散と拡張によって処理能力を効果的に処理することが重要です。</span><span class="sxs-lookup"><span data-stu-id="525fe-112">Our large scale environment is set up to service millions of users on a daily basis so it is important that we handle capacity effectively by balancing and expanding farms.</span></span> <span data-ttu-id="525fe-113">また、この記事では、ロードテストを伴わずに、正常な起動を設定するために必要な次のガイドラインについて説明しています。</span><span class="sxs-lookup"><span data-stu-id="525fe-113">The article also covers approaches for you to use that don't involve load testing but involve following guidelines that will set you up for a successful launch.</span></span> 
  
<span data-ttu-id="525fe-114">1つのファーム内の1つのテナントに対する成長は予測できませんが、集約された要求の合計は予測可能です。</span><span class="sxs-lookup"><span data-stu-id="525fe-114">While the growth is unpredictable for any one tenant in any one farm, the aggregated sum of requests is predictable over time.</span></span> <span data-ttu-id="525fe-115">SharePoint Online の拡張傾向を特定することで、今後の拡張を計画できます。</span><span class="sxs-lookup"><span data-stu-id="525fe-115">By identifying the growth trends in SharePoint Online, we can plan for future expansion.</span></span>
  
<span data-ttu-id="525fe-116">予測できない容量と処理を効率的に使用するために、どのファームでも、フロントエンドの負荷を追跡し、必要に応じてスケールアップする自動化があります。</span><span class="sxs-lookup"><span data-stu-id="525fe-116">In order to efficiently use capacity and deal with unexpected growth, in any farm, we have automation that tracks front-end load and scales up, when needed.</span></span> <span data-ttu-id="525fe-117">複数の指標が使用されており、そのうちの1つは CPU 負荷で、フロントエンドサーバーをスケールアップするための信号として使用されています。</span><span class="sxs-lookup"><span data-stu-id="525fe-117">There are multiple metrics utilized with one of the main ones being CPU load which is used as a signal to scale up front end servers.</span></span> <span data-ttu-id="525fe-118">さらに、この記事でさらに詳しく説明しますが、SQL 環境は負荷と需要に応じて拡大または縮小し、フェーズと wave に従うことで、負荷と成長の適切な分布を実現できるため、段階的/wave のアプローチをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="525fe-118">Additionally to this and as you will note further in the article, we recommend a phased / wave approach as SQL environments will scale according to load and demand and following the phases and waves allows for the correct distribution of load and growth.</span></span> 
  
## <a name="how-do-i-plan-for-a-site-launch"></a><span data-ttu-id="525fe-119">サイトの起動を計画するにはどうすればよいですか。</span><span class="sxs-lookup"><span data-stu-id="525fe-119">How do I plan for a site launch?</span></span>

### <a name="optimize-pages-by-following-recommended-guidelines"></a><span data-ttu-id="525fe-120">推奨ガイドラインに従ってページを最適化する</span><span class="sxs-lookup"><span data-stu-id="525fe-120">Optimize pages by following recommended guidelines</span></span>
<span data-ttu-id="525fe-121">オンプレミス展開からのページは、sharepoint online の推奨ガイドラインに対して確認することなく、sharepoint online 上にある場合にのみ実行するようにしてください。</span><span class="sxs-lookup"><span data-stu-id="525fe-121">Pages from an on-Premise deployment should not simply be taken as they are onto SharePoint Online without reviewing them against recommended guidelines for SharePoint Online.</span></span>

<span data-ttu-id="525fe-122">いくつかの重要な要素を考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="525fe-122">A few key factors should be considered:</span></span>
- <span data-ttu-id="525fe-123">オンプレミスの展開では、オブジェクトキャッシュなどの従来のサーバー側キャッシュを利用できますが、クラウドでのトポロジの違いにより、これらのオプションは使用できません。</span><span class="sxs-lookup"><span data-stu-id="525fe-123">On-Premise deployments can leverage traditional server-side caches like object cache but with the topology differences in the cloud, these options are not available.</span></span>
- <span data-ttu-id="525fe-124">クラウドの使用に使用されるページ/機能/カスタマイズは、複数の場所に対して最適化する必要があります。これにより、さまざまな領域または地域のユーザーが一貫した環境を持つことができます。</span><span class="sxs-lookup"><span data-stu-id="525fe-124">Any pages / features / customizations used for Cloud consumption should be optimized for multiple locations so users in different areas or regions have a consistent experience.</span></span> <span data-ttu-id="525fe-125">クラウドは、分散ユーザーベース用に最適化するためのコンテンツ配信ネットワーク (CDN) のような最適化を提供します。</span><span class="sxs-lookup"><span data-stu-id="525fe-125">Cloud offers optimizations like Content Delivery Networks (CDN) to optimize for a distributed user base.</span></span>

<span data-ttu-id="525fe-126">従来の発行ページの SharePoint Online では、ユーザーが使用する主要なランディングページの分析を支援する[ページ診断ツール](https://aka.ms/perftool)の Chrome 拡張機能を使用できます。</span><span class="sxs-lookup"><span data-stu-id="525fe-126">For Classic publishing pages in SharePoint Online you can use the [Page Diagnostics tool](https://aka.ms/perftool) Chrome extension which will assist with analyzing the main landing pages used by users.</span></span>
<span data-ttu-id="525fe-127">F12 開発者ツールを使用して、ブラウザーまたは[Fiddler](https://www.telerik.com/download/fiddler)のページのウエイトを確認し、ページ全体の読み込みに影響を与える呼び出しと要素の数を確認して最適化することができます。</span><span class="sxs-lookup"><span data-stu-id="525fe-127">F12 developer tools in the browser or [Fiddler](https://www.telerik.com/download/fiddler) can be used to review the weight of the page and the number of calls and elements impacting the overall page load should be reviewed and optimized.</span></span> <span data-ttu-id="525fe-128">コンテンツ配信ネットワークの使用やその他の最適化を含む推奨事項の一覧は、「 [SharePoint Online のパフォーマンスのチューニング](https://aka.ms/spoperformance)」記事で確認できます。</span><span class="sxs-lookup"><span data-stu-id="525fe-128">A list of recommendations including using Content Delivery Networks and other optimizations can be reviewed in the [Tune SharePoint Online Performance](https://aka.ms/spoperformance) article.</span></span>

### <a name="wave--phase-approach"></a><span data-ttu-id="525fe-129">ウェーブ/フェーズアプローチ</span><span class="sxs-lookup"><span data-stu-id="525fe-129">Wave / Phase approach</span></span>
<span data-ttu-id="525fe-130">従来のサイト起動方式では、カスタマイズ、外部ソース、サービス、またはプロセスが適切な規模でテストされたことを検証できません。</span><span class="sxs-lookup"><span data-stu-id="525fe-130">The traditional big bang approach for site launches don't effectively allow verification that customizations, external sources, services or processes have been tested at the right scale.</span></span> <span data-ttu-id="525fe-131">また、サービスとしての SharePoint は、使用率と予測される使用状況に基づいて容量をスケールしますが、サイトの起動を通知する必要はありませんが、次のガイドラインに従って成功を確実にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="525fe-131">SharePoint as a service also scales your capacity based on usage and predicted usage and whilst we don't need you to notify of your site launch, you should follow the guidelines below to ensure success.</span></span>
  
<span data-ttu-id="525fe-132">次の図に示すように、招待されたユーザーの数は、実際にサイトを使用しているユーザーよりも大幅に高くなることがよくあります。</span><span class="sxs-lookup"><span data-stu-id="525fe-132">As shown in the following image, often the number of users that are invited is significantly higher than those that actually use the site.</span></span> <span data-ttu-id="525fe-133">この図は、リリースを展開する方法に関する戦略を示しています。</span><span class="sxs-lookup"><span data-stu-id="525fe-133">This image shows a strategy about how to roll out a release.</span></span> <span data-ttu-id="525fe-134">この方法では、大多数のユーザーが表示される前に SharePoint サイトを改善する方法を特定できます。</span><span class="sxs-lookup"><span data-stu-id="525fe-134">This method helps identify ways to improve the SharePoint site before the majority of the users see it.</span></span> <span data-ttu-id="525fe-135">また、フェーズ/wave のいずれかで問題が発生したときに、影響を受ける可能性のあるユーザーの数を制限することで、ロールアウトを一時停止させることもできます。</span><span class="sxs-lookup"><span data-stu-id="525fe-135">It also allows for a rollout to be paused should you encounter issues in any of the phases/waves thereby limiting the potential number of users impacted.</span></span>
  
![招待ユーザーとアクティブなユーザーを示すグラフ](media/0bc14a20-9420-4986-b9b9-fbcd2c6e0fb9.png)
  
<span data-ttu-id="525fe-137">パイロットフェーズでは、組織が信頼していることを認識しているユーザーからのフィードバックを取得することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="525fe-137">In the pilot phase, it is good to get feedback from users that the organization trusts and knows will be engaged.</span></span> <span data-ttu-id="525fe-138">このようにすると、システムがどのように使用されているか、またどのように実行されているかを把握することができます。</span><span class="sxs-lookup"><span data-stu-id="525fe-138">This way it is possible to gauge how the system is being used, as well as how it is performing.</span></span>
  
<span data-ttu-id="525fe-139">各ウェーブで、各機能に関するユーザーのフィードバックと、展開の各ウェーブのパフォーマンスを収集します。</span><span class="sxs-lookup"><span data-stu-id="525fe-139">During each of the waves, gather user feedback around the features as well as the performance during each wave of deployment.</span></span> <span data-ttu-id="525fe-140">これには、システムをゆっくり導入して、システムの使用が増えるにつれて改善を行うという利点があります。</span><span class="sxs-lookup"><span data-stu-id="525fe-140">This has the advantage of slowly introducing the system and making improvements as the system gets more use.</span></span> <span data-ttu-id="525fe-141">これにより、サイトがより多くのユーザーにロールアウトされる際に、増加した負荷に対応することもできます。</span><span class="sxs-lookup"><span data-stu-id="525fe-141">This also allows us to react to the increased load as the site is rolled out to more and more users.</span></span>
