---
title: SharePoint Online のページ診断ツールを使用する
ms.author: kvice
author: kelleyvice-msft
manager: laurawi
ms.date: 2/18/2020
audience: Admin
ms.topic: article
ms.service: o365-administration
localization_priority: Normal
ms.collection:
- Ent_O365
- SPO_Content
search.appverid:
- MET150
- SPO160
- MOE150
- BSA160
f1.keywords:
- NOCSH
description: Sharepoint Online のページ診断ツールを使用して、事前に定義されたパフォーマンス条件のセットに対して SharePoint Online モダンポータルと従来の発行ページを分析します。
ms.openlocfilehash: 191db3db459f12a922c47844af72511cc9bf2544
ms.sourcegitcommit: 27172140051c31f5cd3f28ffb4282669d561549a
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/19/2020
ms.locfileid: "42155599"
---
# <a name="use-the-page-diagnostics-for-sharepoint-tool"></a><span data-ttu-id="790bf-103">SharePoint 用ページ診断ツールを使用する</span><span class="sxs-lookup"><span data-stu-id="790bf-103">Use the Page Diagnostics for SharePoint tool</span></span>

<span data-ttu-id="790bf-104">この記事では、 **sharepoint 用ページ診断ツール**を使用して、事前に定義されたパフォーマンス基準のセットに対して sharepoint Online モダンおよび従来のサイトページを分析する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="790bf-104">This article describes how to use the **Page Diagnostics for SharePoint tool** to analyze SharePoint Online modern and classic site pages against a pre-defined set of performance criteria.</span></span>  

>[!TIP]
><span data-ttu-id="790bf-105">**ツールのバージョン2.0.2 がリリースされました**。</span><span class="sxs-lookup"><span data-stu-id="790bf-105">**Version 2.0.2 of the tool has been released**.</span></span> <span data-ttu-id="790bf-106">バージョン**2.0.0**以降では、従来のサイトページに加えて、モダンページのサポートが含まれています。</span><span class="sxs-lookup"><span data-stu-id="790bf-106">Version **2.0.0** and later includes support for modern pages in addition to classic site pages.</span></span> <span data-ttu-id="790bf-107">使用しているツールのバージョンがわからない場合は、バージョン**情報**のリンクまたは省略記号 (...) を選択して、バージョンを確認できます。</span><span class="sxs-lookup"><span data-stu-id="790bf-107">If you are unsure which version of the tool you are using, you can select the **About** link or the ellipses (...) to verify your version.</span></span> <span data-ttu-id="790bf-108">ツールを使用するときは、常に最新バージョンに更新してください。</span><span class="sxs-lookup"><span data-stu-id="790bf-108">Always update to the latest version when using the tool.</span></span>

<span data-ttu-id="790bf-109">SharePoint 用ページ診断ツールは、新しい Microsoft Edge (https://www.microsoft.com/edge)および sharepoint Online モダンポータルと従来の発行サイトページの両方を分析する Chrome ブラウザー) 用のブラウザー拡張機能です。</span><span class="sxs-lookup"><span data-stu-id="790bf-109">The Page Diagnostics for SharePoint tool is a browser extension for the new Microsoft Edge (https://www.microsoft.com/edge) and Chrome browsers that analyzes both SharePoint Online modern portal and classic publishing site pages.</span></span> <span data-ttu-id="790bf-110">このツールは、SharePoint Online に対してのみ機能し、SharePoint システムページでは使用できません。</span><span class="sxs-lookup"><span data-stu-id="790bf-110">This tool only works for SharePoint Online, and cannot be used on a SharePoint system page.</span></span>

<span data-ttu-id="790bf-111">解析された各ページに対して、定義済みのルールセットに対してページがどのように表示されるかを示すレポートを生成し、テストの結果が基準値の範囲外にある場合に詳細情報を表示します。</span><span class="sxs-lookup"><span data-stu-id="790bf-111">The tool generates a report for each analyzed page showing how the page performs against a pre-defined set of rules and displays detailed information when results for a test fall outside the baseline value.</span></span> <span data-ttu-id="790bf-112">SharePoint Online 管理者と設計者は、このツールを使用して、パフォーマンスの問題のトラブルシューティングを行ったり、発行前に新しいページを最適化することができます。</span><span class="sxs-lookup"><span data-stu-id="790bf-112">SharePoint Online administrators and designers can use the tool to troubleshoot performance issues and to ensure that new pages are optimized prior to publishing.</span></span>

<span data-ttu-id="790bf-113">ページ診断ツールは、SharePoint サイトページのみを分析するように設計されています。これは、 *allitems*や*sharepoint .aspx*などのシステムページではありません。</span><span class="sxs-lookup"><span data-stu-id="790bf-113">The Page Diagnostics tool is designed to analyze SharePoint site pages only, not system pages such as *allitems.aspx* or *sharepoint.aspx*.</span></span> <span data-ttu-id="790bf-114">システムページまたはその他のサイト以外のページでツールを実行しようとすると、そのページの種類に対してツールを実行できないことを示すエラーメッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="790bf-114">If you attempt to run the tool on a system page or any other non-site page, you will receive an error message advising that the tool cannot be run for that type of page.</span></span>

![SharePoint ページ上で実行する必要がある](media/page-diagnostics-for-spo/pagediag-Error-StartPage.png)

<span data-ttu-id="790bf-116">このツールでは、[ライブラリまたはシステムページの評価] に値がないため、このエラーは発生しません。</span><span class="sxs-lookup"><span data-stu-id="790bf-116">This is not an error in the tool as there is no value in assessing libraries or system pages.</span></span> <span data-ttu-id="790bf-117">このツールを使用するには、SharePoint サイトページに移動してください。</span><span class="sxs-lookup"><span data-stu-id="790bf-117">Please navigate to a SharePoint site page to use the tool.</span></span> <span data-ttu-id="790bf-118">SharePoint ページでこのエラーが発生した場合は、マスターページを確認して、SharePoint メタタグが削除されていないことを確認してください。</span><span class="sxs-lookup"><span data-stu-id="790bf-118">If this error occurs on a SharePoint page, please check the master page to ensure that the SharePoint metatags have not been removed.</span></span>

<span data-ttu-id="790bf-119">ツールに関するフィードバックを提供するには、ツールの右上隅にある省略記号を選択してから、[[フィードバックを提供](https://go.microsoft.com/fwlink/?linkid=874109)する] を選択します。</span><span class="sxs-lookup"><span data-stu-id="790bf-119">To provide feedback about the tool, select the ellipsis at the top right corner of the tool and then select [Give feedback](https://go.microsoft.com/fwlink/?linkid=874109).</span></span>

![フィードバックを送信](media/page-diagnostics-for-spo/pagediag-feedback.png)
  
## <a name="install-the-page-diagnostics-for-sharepoint-tool"></a><span data-ttu-id="790bf-121">SharePoint 用のページ診断ツールをインストールする</span><span class="sxs-lookup"><span data-stu-id="790bf-121">Install the Page Diagnostics for SharePoint tool</span></span>

<span data-ttu-id="790bf-122">このセクションのインストール手順は、Chrome ブラウザーと Microsoft Edge ブラウザーの両方で機能します。</span><span class="sxs-lookup"><span data-stu-id="790bf-122">The installation procedure in this section will work for both the Chrome and Microsoft Edge browsers.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="790bf-123">Microsoft では、SharePoint 用ページ診断ツールによって分析されたデータやページのコンテンツは読み取られません。また、個人情報、web サイト、またはダウンロード情報は収集されません。</span><span class="sxs-lookup"><span data-stu-id="790bf-123">Microsoft does not read data or page content that is analyzed by the Page Diagnostics for SharePoint tool, and we do not capture any personal information, website or download information.</span></span> <span data-ttu-id="790bf-124">ツールによって Microsoft に記録される唯一の情報は、テナント名、失敗したルールの数、およびツールが実行された日時です。</span><span class="sxs-lookup"><span data-stu-id="790bf-124">The only identifiable information logged to Microsoft by the tool is the tenant name, counts of rules that have failed and the date and time the tool was run.</span></span> <span data-ttu-id="790bf-125">この情報は Microsoft によって使用され、モダンポータルと発行サイトの使用傾向と一般的なパフォーマンスの問題をより深く理解しています。</span><span class="sxs-lookup"><span data-stu-id="790bf-125">This information is used by Microsoft to better understand modern portal and publishing site usage trends and common performance issues.</span></span>

1. <span data-ttu-id="790bf-126">**Microsoft edge** [(エッジエクステンション)](https://microsoftedge.microsoft.com/addons/detail/ocemkolpnamjcacndljdfmhlpcaoipji)または**chrome** [(クロム拡張機能)](https://chrome.google.com/webstore/detail/inahogkhlkbkjkkaleonemeijihmfagi)用の SharePoint 用のページ診断ツールをインストールします。</span><span class="sxs-lookup"><span data-stu-id="790bf-126">Install the Page Diagnostics for SharePoint tool for **Microsoft Edge** [(Edge extension)](https://microsoftedge.microsoft.com/addons/detail/ocemkolpnamjcacndljdfmhlpcaoipji) or **Chrome** [(Chrome extension)](https://chrome.google.com/webstore/detail/inahogkhlkbkjkkaleonemeijihmfagi).</span></span> <span data-ttu-id="790bf-127">ストアの [説明] ページで提供されるユーザーのプライバシーポリシーを確認してください。</span><span class="sxs-lookup"><span data-stu-id="790bf-127">Please review the User Privacy Policy provided on the description page in the store.</span></span> <span data-ttu-id="790bf-128">このツールをブラウザーに追加すると、次のアクセス許可に関する通知が表示されます。</span><span class="sxs-lookup"><span data-stu-id="790bf-128">When adding the tool to your browser, you will see the following permissions notice.</span></span>

    ![拡張機能のアクセス許可](media/page-diagnostics-for-spo/pagediag-add-to-edge.png)

    <span data-ttu-id="790bf-130">この通知が表示されるのは、ページには、web パーツおよびページのカスタマイズに応じて、SharePoint の外部にある場所のコンテンツが含まれる可能性があるためです。</span><span class="sxs-lookup"><span data-stu-id="790bf-130">This notice is in place because a page may contain content from locations outside of SharePoint depending on the web parts and customizations on the page.</span></span> <span data-ttu-id="790bf-131">これは、ツールが実行されているアクティブな SharePoint タブでのみ [開始] ボタンがクリックされたときに、要求と応答を読み取ることを意味します。</span><span class="sxs-lookup"><span data-stu-id="790bf-131">This means that the tool will read the requests and responses when the start button is clicked and only for the active SharePoint tab where the tool is running.</span></span> <span data-ttu-id="790bf-132">この情報は、web ブラウザーによってローカルにキャプチャされ、ツールの [_ネットワークトレース_] タブの [ **JSON へのエクスポート**] または [ **har へのエクスポート**] ボタンで利用できます。**情報は、Microsoft によって送信または取得されることはありません。**</span><span class="sxs-lookup"><span data-stu-id="790bf-132">This information is captured locally by the web browser and is available to you via the **Export to JSON** or **Export to HAR** button in the tool's _Network trace_ tab. **The information is not sent to or captured by Microsoft.**</span></span> <span data-ttu-id="790bf-133">([こ](https://go.microsoft.com/fwlink/p/?linkid=857875)のツールでは、Microsoft のプライバシーポリシーにアクセスできます)。</span><span class="sxs-lookup"><span data-stu-id="790bf-133">(The tool respects the Microsoft privacy policy accessible [here](https://go.microsoft.com/fwlink/p/?linkid=857875).)</span></span>

    <span data-ttu-id="790bf-134">[_ダウンロードの管理_] アクセス許可は、ツールの**JSON へのエクスポート**機能の使用に適用されます。</span><span class="sxs-lookup"><span data-stu-id="790bf-134">The _Manage your downloads_ permission covers use of the tool's **Export to JSON** functionality.</span></span> <span data-ttu-id="790bf-135">結果に Url が含まれており、PII (個人を特定できる情報) として分類できるため、組織の外部で JSON ファイルを共有する前に、会社のプライバシーガイドラインに従ってください。</span><span class="sxs-lookup"><span data-stu-id="790bf-135">Please follow your company's own privacy guidelines before sharing the JSON file outside of your organization, as the results contain URLs and that can be classified as PII (Personally Identifiable Information).</span></span>
1. <span data-ttu-id="790bf-136">Incognito または InPrivate モードでこのツールを使用する場合は、お使いのブラウザーの手順に従います。</span><span class="sxs-lookup"><span data-stu-id="790bf-136">If you want to use the tool in Incognito or InPrivate mode, follow the procedure for your browser:</span></span>
    1. <span data-ttu-id="790bf-137">Microsoft Edge で、[**拡張子**] に移動するか、URL バーに「 _edge://extensions_ 」と入力して、拡張機能の**詳細**を選択します。</span><span class="sxs-lookup"><span data-stu-id="790bf-137">In Microsoft Edge, navigate to **Extensions** or type _edge://extensions_ in the URL bar and select **Details** for the extension.</span></span> <span data-ttu-id="790bf-138">[拡張機能の設定] で、[ **InPrivate で許可**] のチェックボックスをオンにします。</span><span class="sxs-lookup"><span data-stu-id="790bf-138">In the extension settings, select the checkbox for **allow in InPrivate**.</span></span>
    1. <span data-ttu-id="790bf-139">Chrome で、[**拡張子**] に移動するか、URL バーに「 _chrome://extensions_ 」と入力して、拡張機能の**詳細**を選択します。</span><span class="sxs-lookup"><span data-stu-id="790bf-139">In Chrome, navigate to **Extensions** or type _chrome://extensions_ in the URL bar and select **Details** for the extension.</span></span> <span data-ttu-id="790bf-140">[内線番号] の設定で、[ **allow In Incognito**] のスライダーを選択します。</span><span class="sxs-lookup"><span data-stu-id="790bf-140">In the extension settings, select the slider for **allow in Incognito**.</span></span>
1. <span data-ttu-id="790bf-141">確認したい sharepoint Online の SharePoint サイトページに移動します。</span><span class="sxs-lookup"><span data-stu-id="790bf-141">Navigate to the SharePoint site page on SharePoint Online that you would like to review.</span></span> <span data-ttu-id="790bf-142">ページ上のアイテムの "遅延読み込み" が許可されています。このため、ツールは自動的に停止されません (これは、すべてのページ読み込みシナリオに対応するように設計されています)。</span><span class="sxs-lookup"><span data-stu-id="790bf-142">We have allowed for "delay loading" of items on pages; therefore, the tool will not stop automatically (this is by design to accommodate all page load scenarios).</span></span> <span data-ttu-id="790bf-143">コレクションを停止するには、[**停止**] を選択します。</span><span class="sxs-lookup"><span data-stu-id="790bf-143">To stop collection, select **Stop**.</span></span> <span data-ttu-id="790bf-144">データ収集を停止する前に、ページの読み込みが完了していることを確認してください。または、部分的なトレースのみをキャプチャします。</span><span class="sxs-lookup"><span data-stu-id="790bf-144">Make sure that the page load has completed before you stop data collection or you will only capture a partial trace.</span></span>
1. <span data-ttu-id="790bf-145">拡張機能のツールバーボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="790bf-145">Click on the extension's toolbar button</span></span> ![SharePoint ロゴのページ診断](media/page-diagnostics-for-spo/pagediag-icon32.png) <span data-ttu-id="790bf-147">ツールを読み込むと、次の拡張子ポップアップウィンドウが表示されます。</span><span class="sxs-lookup"><span data-stu-id="790bf-147">to load the tool and you will be presented with the following extension popup window:</span></span>

    ![ページ診断ツールのポップアップ](media/page-diagnostics-for-spo/pagediag-Landing.png)

<span data-ttu-id="790bf-149">[**開始**] を選択して、分析のためのデータの収集を開始します。</span><span class="sxs-lookup"><span data-stu-id="790bf-149">Select **Start** to begin collecting data for analysis.</span></span>

## <a name="what-youll-see-in-the-page-diagnostics-for-sharepoint-tool"></a><span data-ttu-id="790bf-150">ページ診断 (SharePoint) ツールに表示される内容</span><span class="sxs-lookup"><span data-stu-id="790bf-150">What you'll see in the Page Diagnostics for SharePoint tool</span></span>

1. <span data-ttu-id="790bf-151">ツールの右上隅にある省略記号 ([...]) をクリックして、次のリンクを検索します。</span><span class="sxs-lookup"><span data-stu-id="790bf-151">Click the ellipses (...) in the top right corner of the tool to find the following links:</span></span>
   1. <span data-ttu-id="790bf-152">「**その他の技術**情報」リンクには、この記事へのリンクを含む、このツールに関する一般的なガイダンスと詳細情報が記載されています。</span><span class="sxs-lookup"><span data-stu-id="790bf-152">The **Additional resources** link provides general guidance and details regarding the tool including a link back to this article.</span></span>
   1. <span data-ttu-id="790bf-153">[**フィードバック**の送信] リンクを使用する_と、SharePoint サイトとコラボレーションユーザーの音声_サイトへのリンクを利用できます。</span><span class="sxs-lookup"><span data-stu-id="790bf-153">The **Give feedback** link provides a link to the _SharePoint Sites and Collaboration User Voice_ site.</span></span>
   1. <span data-ttu-id="790bf-154">**About**リンクには、現在インストールされているツールのバージョンと、ツールのサードパーティの通知への直接リンクが含まれています。</span><span class="sxs-lookup"><span data-stu-id="790bf-154">The **About** link includes the currently installed version of the tool and a direct link to the tool's third party notice.</span></span>  
1. <span data-ttu-id="790bf-155">**関連付け ID、SPRequestDuration、Sprequestduration**、**ページ読み込み時間**、および**URL**の詳細は情報で、いくつかの目的に使用できます。</span><span class="sxs-lookup"><span data-stu-id="790bf-155">The **Correlation ID, SPRequestDuration, SPIISLatency**, **Page load time**, and **URL** details are informational and can be used for a few purposes.</span></span>

    ![ページ診断の詳細](media/page-diagnostics-for-spo/pagediag-details.PNG)

   - <span data-ttu-id="790bf-157">**CorrelationID**は、Microsoft サポートを使用している場合に、特定のページの追加の診断データを収集できる重要な要素です。</span><span class="sxs-lookup"><span data-stu-id="790bf-157">**CorrelationID** is an important element when working with Microsoft Support as it allows them to gather additional diagnostic data for the specific page.</span></span>
   - <span data-ttu-id="790bf-158">**Sprequestduration**は、SharePoint がページを処理するのに要した時間です。</span><span class="sxs-lookup"><span data-stu-id="790bf-158">**SPRequestDuration** is the time taken for SharePoint to process the page.</span></span> <span data-ttu-id="790bf-159">構造ナビゲーション、大きい画像、多くの API 呼び出しは、すべての期間を長くすることができます。</span><span class="sxs-lookup"><span data-stu-id="790bf-159">Structural navigation, large images, lots of API calls could all contribute to longer durations.</span></span>
   - <span data-ttu-id="790bf-160">**Spiislatency**は、SharePoint Online がページの読み込みを開始するまでにかかる時間 (ミリ秒単位) です。</span><span class="sxs-lookup"><span data-stu-id="790bf-160">**SPIISLatency** is the time in milliseconds taken for SharePoint Online begin loading the page.</span></span> <span data-ttu-id="790bf-161">この値には、web アプリケーションが応答するのにかかる時間は含まれません。</span><span class="sxs-lookup"><span data-stu-id="790bf-161">This value does not include the time taken for the web application to respond.</span></span>
   - <span data-ttu-id="790bf-162">**Page load time**は、応答がブラウザーで受信されてレンダリングされた時点までの、要求の時間からページによって記録された時間の合計です。</span><span class="sxs-lookup"><span data-stu-id="790bf-162">**Page load time** is the total time recorded by the page from the time of the request to the time the response was received and rendered in the browser.</span></span> <span data-ttu-id="790bf-163">この値は、ネットワークの待機時間、コンピューターのパフォーマンス、ブラウザーがページを読み込むためにかかる時間など、さまざまな要因の影響を受けます。</span><span class="sxs-lookup"><span data-stu-id="790bf-163">This value is affected by a variety of factors including network latency, the performance of the computer and the time it takes for the browser to load the page.</span></span>
   - <span data-ttu-id="790bf-164">**ページの URL** (Uniform resource Locator) は、現在のページの web アドレスです。</span><span class="sxs-lookup"><span data-stu-id="790bf-164">The **Page URL** (Uniform Resource Locator) is the web address of the current page.</span></span>

1. <span data-ttu-id="790bf-165">[[**診断テスト**](#how-to-use-the-diagnostic-tests-tab)] タブでは、分析結果が3つのカテゴリに表示されます。**対処は必要ありません**。**改善の機会**と**注意が必要**です。</span><span class="sxs-lookup"><span data-stu-id="790bf-165">The [**Diagnostic tests**](#how-to-use-the-diagnostic-tests-tab) tab displays the analysis results in three categories; **No action required**, **Improvement opportunities** and **Attention required**.</span></span> <span data-ttu-id="790bf-166">各テスト結果は、次の表に示すように、これらのカテゴリのいずれかのアイテムによって表されます。</span><span class="sxs-lookup"><span data-stu-id="790bf-166">Each test result is represented by an item in one of these categories as described in the following table:</span></span>

    |<span data-ttu-id="790bf-167">カテゴリ</span><span class="sxs-lookup"><span data-stu-id="790bf-167">Category</span></span>  |<span data-ttu-id="790bf-168">色</span><span class="sxs-lookup"><span data-stu-id="790bf-168">Color</span></span>  |<span data-ttu-id="790bf-169">説明</span><span class="sxs-lookup"><span data-stu-id="790bf-169">Description</span></span>  |
    |---------|---------|---------|
    |<span data-ttu-id="790bf-170">**アテンションが必要**</span><span class="sxs-lookup"><span data-stu-id="790bf-170">**Attention required**</span></span> |<span data-ttu-id="790bf-171">赤</span><span class="sxs-lookup"><span data-stu-id="790bf-171">Red</span></span> |<span data-ttu-id="790bf-172">テスト結果は、基準値の範囲外にあり、ページのパフォーマンスに影響を与えます。</span><span class="sxs-lookup"><span data-stu-id="790bf-172">Test result falls outside the baseline value and is affecting page performance.</span></span> <span data-ttu-id="790bf-173">修復ガイダンスに従います。</span><span class="sxs-lookup"><span data-stu-id="790bf-173">Follow remediation guidance.</span></span>|
    |<span data-ttu-id="790bf-174">**向上したオポチュニティ**</span><span class="sxs-lookup"><span data-stu-id="790bf-174">**Improvement opportunities**</span></span> |<span data-ttu-id="790bf-175">黄</span><span class="sxs-lookup"><span data-stu-id="790bf-175">Yellow</span></span> |<span data-ttu-id="790bf-176">テスト結果は基準値の範囲外になり、パフォーマンスの問題に寄与する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="790bf-176">Test result falls outside the baseline value and could be contributing to performance issues.</span></span> <span data-ttu-id="790bf-177">テスト固有の条件が適用される場合があります。</span><span class="sxs-lookup"><span data-stu-id="790bf-177">Test-specific criteria may apply.</span></span>|
    |<span data-ttu-id="790bf-178">**操作は不要**</span><span class="sxs-lookup"><span data-stu-id="790bf-178">**No action required**</span></span> |<span data-ttu-id="790bf-179">緑</span><span class="sxs-lookup"><span data-stu-id="790bf-179">Green</span></span> |<span data-ttu-id="790bf-180">テスト結果はテストのベースライン値の範囲内にあります。</span><span class="sxs-lookup"><span data-stu-id="790bf-180">Test result falls within the test's baseline value.</span></span>|

    ![ページ診断](media/page-diagnostics-for-spo/pagediag-results-general.PNG)

1. <span data-ttu-id="790bf-182">[[**ネットワークトレース**](#how-to-use-the-network-trace-tab)] タブには、ページのビルド要求と応答に関する詳細が表示されます。</span><span class="sxs-lookup"><span data-stu-id="790bf-182">A [**Network trace**](#how-to-use-the-network-trace-tab) tab provides details about page build requests and responses.</span></span>

## <a name="how-to-use-the-diagnostic-tests-tab"></a><span data-ttu-id="790bf-183">[診断テスト] タブの使用方法</span><span class="sxs-lookup"><span data-stu-id="790bf-183">How to use the Diagnostic tests tab</span></span>

<span data-ttu-id="790bf-184">Sharepoint のモダンポータルページまたは従来の発行サイトページを、SharePoint ツールのページ診断を使用して分析する場合、結果を基準値と比較し、[**診断テスト**] タブに表示する定義済みのルールを使用して、結果が分析されます。特定のテストのルールでは、2つの特定のパフォーマンス特性の違いに応じて、</span><span class="sxs-lookup"><span data-stu-id="790bf-184">When you analyze a SharePoint modern portal page or classic publishing site page with the Page Diagnostics for SharePoint tool, results are analyzed using pre-defined rules that compare results against baseline values and displayed in the **Diagnostic tests** tab. Rules for certain tests may use different baseline values for modern portal and classic publishing sites depending on how specific performance characteristics differ between the two.</span></span>

<span data-ttu-id="790bf-185">「**改善の機会**」または「**要注意**」のカテゴリに表示されるテスト結果は、推奨されるプラクティスに照らして見直す必要のある領域を示し、結果に関する追加情報を表示するために選択できます。</span><span class="sxs-lookup"><span data-stu-id="790bf-185">Test results that appear in the **Improvement opportunities** or **Attention required** categories indicate areas that should be reviewed against recommended practices, and can be selected to display additional information about the result.</span></span> <span data-ttu-id="790bf-186">各アイテムの詳細には、テストに関連する適切なガイダンスに直接移動する [_詳細情報_] リンクが含まれています。</span><span class="sxs-lookup"><span data-stu-id="790bf-186">Details for each item include a _Learn more_ link which will take you directly to the appropriate guidance related to the test.</span></span> <span data-ttu-id="790bf-187">[**アクションなし**] カテゴリに表示されるテスト結果は、関連付けられたルールに準拠しており、選択したときに追加の詳細が表示されないことを示します。</span><span class="sxs-lookup"><span data-stu-id="790bf-187">Test results that appear in the **No action required** category indicate compliance with the relevant rule and do not display additional details when selected.</span></span>

<span data-ttu-id="790bf-188">[診断テスト] タブの情報には、ページの設計方法は示されませんが、ページのパフォーマンスに影響を与える可能性がある要因は強調表示されます。</span><span class="sxs-lookup"><span data-stu-id="790bf-188">The information in the Diagnostics tests tab will not tell you how to design pages, but will highlight factors that may impact page performance.</span></span> <span data-ttu-id="790bf-189">ページの機能やカスタマイズによっては、ページのパフォーマンスへの影響が避けられる場合があります。影響が大きい場合は、問題が発生しているかどうかを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="790bf-189">Some page functionality and customizations have an unavoidable impact on page performance, and should be reviewed for potential remediation or omission from the page if their impact is substantial.</span></span>

<span data-ttu-id="790bf-190">赤または黄色の結果は、データが頻繁に更新される web パーツを示している場合もあります。</span><span class="sxs-lookup"><span data-stu-id="790bf-190">Red or yellow results may also indicate web parts that refresh data too frequently.</span></span> <span data-ttu-id="790bf-191">たとえば、企業ニュースは1秒ごとに更新されませんが、ユーザーの全体的な動作を向上させるキャッシュ要素を実装するのではなく、1秒ごとにカスタム web パーツが作成されることがよくあります。</span><span class="sxs-lookup"><span data-stu-id="790bf-191">For example, corporate news is not updated every second but custom web parts are often built to fetch the latest news every second instead of implementing caching elements that could improve the overall user experience.</span></span> <span data-ttu-id="790bf-192">Web パーツをページに含める際には、使用可能な各パラメーターの値を評価して、その目的に応じて適切に設定されていることを確認することによって、パフォーマンスへの影響を軽減するための簡単な方法があることを念頭に置いてください。</span><span class="sxs-lookup"><span data-stu-id="790bf-192">Keep in mind when including web parts on a page that there are often simple ways to reduce their performance impact by evaluating the value of each available parameter to ensure it is set appropriately for its intended purpose.</span></span>

>[!NOTE]
><span data-ttu-id="790bf-193">発行機能が有効になっていない従来のチームサイトでは、CDNs を使用できません。</span><span class="sxs-lookup"><span data-stu-id="790bf-193">Classic team sites that don't have the publishing feature enabled cannot make use of CDNs.</span></span> <span data-ttu-id="790bf-194">これらのサイトでこのツールを実行すると、CDN テストは失敗し、無視される可能性がありますが、残りのすべてのテストが適用されます。</span><span class="sxs-lookup"><span data-stu-id="790bf-194">When you run the tool on these sites, the CDN test is expected to fail and can be ignored, but all of the remaining tests are applicable.</span></span> <span data-ttu-id="790bf-195">SharePoint 発行機能の追加機能を使用すると、ページの読み込み時間が長くなる可能性があるため、CDN 機能を許可するだけで有効にすることはできません。</span><span class="sxs-lookup"><span data-stu-id="790bf-195">The additional functionality of the SharePoint publishing feature can increase page load times, so it should not be enabled just to allow CDN functionality.</span></span>

>[!IMPORTANT]
><span data-ttu-id="790bf-196">テストルールは定期的に追加および更新されるため、最新バージョンのツールを参照して、現在のルールおよびテスト結果に含まれる特定の情報の詳細を確認してください。</span><span class="sxs-lookup"><span data-stu-id="790bf-196">Test rules are added and updated regularly so please refer to the latest version of the tool for details about current rules and specific information included in test results.</span></span> <span data-ttu-id="790bf-197">拡張機能を管理することにより、バージョンを確認することができます。また、拡張機能を使用すると、更新プログラムが利用可能かどうかを確認できます。</span><span class="sxs-lookup"><span data-stu-id="790bf-197">You can verify the version by managing your extensions and the extension will advise whether an update is available.</span></span>

## <a name="how-to-use-the-network-trace-tab"></a><span data-ttu-id="790bf-198">[ネットワークトレース] タブの使用方法</span><span class="sxs-lookup"><span data-stu-id="790bf-198">How to use the Network Trace tab</span></span>

<span data-ttu-id="790bf-199">[**ネットワークトレース**] タブには、ページのビルドおよび SharePoint から受信した応答の両方の要求に関する詳細情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="790bf-199">The **Network Trace** tab provides detailed information about both requests to build the page and the responses received from SharePoint.</span></span>

1. <span data-ttu-id="790bf-200">**赤としてフラグが付けられたアイテムの読み込み時刻を検索**します。</span><span class="sxs-lookup"><span data-stu-id="790bf-200">**Look for item load times flagged as red**.</span></span> <span data-ttu-id="790bf-201">各要求と応答は、次の遅延指標を使用して、ページ全体のパフォーマンスに影響を示すように色分けされています。</span><span class="sxs-lookup"><span data-stu-id="790bf-201">Each request and response is color coded to indicate its impact on overall page performance using the following latency metrics:</span></span>
    - <span data-ttu-id="790bf-202">緑: \< 500ms</span><span class="sxs-lookup"><span data-stu-id="790bf-202">Green: \< 500ms</span></span>
    - <span data-ttu-id="790bf-203">黄: 500-1000 ミリ秒</span><span class="sxs-lookup"><span data-stu-id="790bf-203">Yellow: 500-1000ms</span></span>
    - <span data-ttu-id="790bf-204">赤: \> 1000 ミリ秒</span><span class="sxs-lookup"><span data-stu-id="790bf-204">Red: \> 1000ms</span></span>

    ![ネットワークトレース](media/page-diagnostics-for-spo/pagediag-networktrace-red.png)

    <span data-ttu-id="790bf-206">上記の図では、赤の項目が既定のページに関連しています。</span><span class="sxs-lookup"><span data-stu-id="790bf-206">In the image shown above, the red item pertains to the default page.</span></span> <span data-ttu-id="790bf-207">ページが1000ミリ秒 (1 秒未満) \<で読み込まれない限り、常に赤で表示されます。</span><span class="sxs-lookup"><span data-stu-id="790bf-207">It will always show red unless the page loads in \< 1000ms (less than 1 second).</span></span>

2. <span data-ttu-id="790bf-208">**テストアイテムの読み込み時間**。</span><span class="sxs-lookup"><span data-stu-id="790bf-208">**Test item load times**.</span></span> <span data-ttu-id="790bf-209">アイテムはブラウザーによって既にキャッシュされているため、時間やカラーインジケーターが表示されない場合があります。</span><span class="sxs-lookup"><span data-stu-id="790bf-209">In some cases there will be no time or color indicator because the items have already been cached by the browser.</span></span> <span data-ttu-id="790bf-210">この問題を正しくテストするには、ページを開き、ブラウザーのキャッシュをクリアしてから [**開始**] をクリックします。これにより、ページの読み込みが強制的に "コールド" され、最初のページ読み込みが実際に反映されるようになります。</span><span class="sxs-lookup"><span data-stu-id="790bf-210">To test this correctly, open the page, clear browser cache, and then click **Start** as that will force a "cold" page load and be a true reflection of the initial page load.</span></span> <span data-ttu-id="790bf-211">これは、ページ上でキャッシュされているアイテムを特定するのに役立つように、"ウォーム" ページ読み込みと比較する必要があります。</span><span class="sxs-lookup"><span data-stu-id="790bf-211">This should then be compared to the "warm" page load as that will also help determine what items are being cached on the page.</span></span>

3. <span data-ttu-id="790bf-212">**関連する詳細情報を他のユーザーと共有して、問題の調査に役立てることができ**ます。</span><span class="sxs-lookup"><span data-stu-id="790bf-212">**Share relevant details with others who can help investigate issues**.</span></span> <span data-ttu-id="790bf-213">ツールで提供される詳細または情報を開発者や技術サポート担当者と共有するには、[ **JSON へのエクスポート**] をクリックします (上記の図を参照)。</span><span class="sxs-lookup"><span data-stu-id="790bf-213">To share the details or information provided in the tool with your developers or a technical support person, click **Export to JSON** (as shown in the image above).</span></span> <span data-ttu-id="790bf-214">これにより、JSON ファイルビューアーを使用して、結果をダウンロードできるようになります。</span><span class="sxs-lookup"><span data-stu-id="790bf-214">That will enable you to download the results, viewable with a JSON file viewer.</span></span>

    <span data-ttu-id="790bf-215">プレビュー機能を使用することを選択した場合、[ *HAR*へのエクスポート] が有効になっている場合、エクスポートの種類は**har へのエクスポート**として表示されます。</span><span class="sxs-lookup"><span data-stu-id="790bf-215">If you have opted to use the preview feature *enable Export to HAR* then the export type will show as **Export to HAR**.</span></span>

    ![ネットワークトレース](media/page-diagnostics-for-spo/pagediag-NetworkTraceHAR.PNG)

> [!IMPORTANT]
> <span data-ttu-id="790bf-217">これらの結果には Url が含まれており、PII (個人を特定できる情報) として分類することができます。</span><span class="sxs-lookup"><span data-stu-id="790bf-217">These results contain URLs and that can be classified as PII (Personally Identifiable Information).</span></span> <span data-ttu-id="790bf-218">その情報を配布する前に、組織のガイドラインに従っていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="790bf-218">Make sure to follow your organization's guidelines before distributing that information.</span></span>

## <a name="engaging-with-microsoft-support"></a><span data-ttu-id="790bf-219">Microsoft サポートへの協力</span><span class="sxs-lookup"><span data-stu-id="790bf-219">Engaging with Microsoft Support</span></span>

<span data-ttu-id="790bf-220">サポートが直接実行される場合にのみ使用する必要がある**Microsoft サポートレベルの機能**が含まれています。</span><span class="sxs-lookup"><span data-stu-id="790bf-220">We have included a **Microsoft Support level feature** that should only be utilized when working directly on a support case.</span></span> <span data-ttu-id="790bf-221">この機能を利用することによって、サポートチーム契約を伴わずに使用してもメリットはありません。また、ページのパフォーマンスが大幅に遅くなる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="790bf-221">Utilizing this feature will provide no benefit to you when used without support team engagement, and can make the page perform significantly slower.</span></span> <span data-ttu-id="790bf-222">この機能をツールで使用するときに、追加情報がサービスのログに追加されるため、追加情報はありません。</span><span class="sxs-lookup"><span data-stu-id="790bf-222">There is no additional information when using this feature in the tool as the additional information is added to the logging in the service.</span></span>

<span data-ttu-id="790bf-223">変更は表示されません。ただし、有効になっていることが通知され、ページのパフォーマンスが2-3 倍になり、パフォーマンスが大幅に低下します。</span><span class="sxs-lookup"><span data-stu-id="790bf-223">No change is visible except that you will be notified that you have enabled it and your page performance will be significantly degraded by 2-3 times slower performance whilst enabled.</span></span> <span data-ttu-id="790bf-224">これは特定のページとアクティブなセッションにのみ関連しています。</span><span class="sxs-lookup"><span data-stu-id="790bf-224">It will only be relevant for the particular page and that active session.</span></span> <span data-ttu-id="790bf-225">このため、これは慎重に使用し、サポートを積極的に参加させる必要があります。</span><span class="sxs-lookup"><span data-stu-id="790bf-225">For this reason, this should be used sparingly and only when actively engaged with support.</span></span>

### <a name="to-enable-the-microsoft-support-level-feature"></a><span data-ttu-id="790bf-226">Microsoft サポートレベル機能を有効にするには</span><span class="sxs-lookup"><span data-stu-id="790bf-226">To enable the Microsoft Support level feature</span></span>

1. <span data-ttu-id="790bf-227">SharePoint 用のページ診断ツールを開きます。</span><span class="sxs-lookup"><span data-stu-id="790bf-227">Open the Page Diagnostics for SharePoint tool.</span></span>
2. <span data-ttu-id="790bf-228">キーボードで、ALT + **Shift + L**キーを押します。</span><span class="sxs-lookup"><span data-stu-id="790bf-228">On your keyboard, press **ALT-Shift-L**.</span></span> <span data-ttu-id="790bf-229">これにより、[**サポートログを有効にする**] チェックボックスが表示されます。</span><span class="sxs-lookup"><span data-stu-id="790bf-229">This will display the **Enable support logging** check box.</span></span>
3. <span data-ttu-id="790bf-230">チェックボックスをオンにし、[**開始**] をクリックしてページを再度読み込み、詳細ログを生成します。</span><span class="sxs-lookup"><span data-stu-id="790bf-230">Select the check box, and then click **Start** to reload the page and generate verbose logging.</span></span>

    ![サポートオプションが有効](media/page-diagnostics-for-spo/pagediag-support.png)
  
    <span data-ttu-id="790bf-232">CorrelationID (ツールの上部に表示されている) を確認し、それをサポート担当者に提供して、診断セッションに関する追加情報を収集できるようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="790bf-232">You should note the CorrelationID (displayed at the top of the tool) and provide it to your support representative to enable them to gather additional information about the diagnostic session.</span></span>

## <a name="related-topics"></a><span data-ttu-id="790bf-233">関連項目</span><span class="sxs-lookup"><span data-stu-id="790bf-233">Related topics</span></span>

[<span data-ttu-id="790bf-234">SharePoint Online のパフォーマンスをチューニングする</span><span class="sxs-lookup"><span data-stu-id="790bf-234">Tune SharePoint Online performance</span></span>](tune-sharepoint-online-performance.md)

[<span data-ttu-id="790bf-235">Office 365 のパフォーマンスをチューニングする</span><span class="sxs-lookup"><span data-stu-id="790bf-235">Tune Office 365 performance</span></span>](tune-office-365-performance.md)

[<span data-ttu-id="790bf-236">コンテンツ配信ネットワーク</span><span class="sxs-lookup"><span data-stu-id="790bf-236">Content delivery networks</span></span>](content-delivery-networks.md)
