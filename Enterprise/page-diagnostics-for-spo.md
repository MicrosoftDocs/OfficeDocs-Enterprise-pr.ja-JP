---
title: SharePoint Online のページ診断ツールを使用する
ms.author: krowley
author: kccross
manager: laurawi
audience: Admin
ms.topic: article
ms.service: o365-administration
localization_priority: Normal
ms.collection: Ent_O365
search.appverid:
- MET150
- SPO160
- MOE150
- BSA160
ms.assetid: dbab2593-dc6a-40f7-adfe-031b9baa620f
description: Sharepoint Online の推奨されるベストプラクティスについて、従来のページを分析するには、SharePoint 用ページ診断ツールを使用します。
ms.openlocfilehash: a188b5dbe52a92cd536ef7145534288345b74c22
ms.sourcegitcommit: 08e1e1c09f64926394043291a77856620d6f72b5
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/15/2019
ms.locfileid: "34069513"
---
# <a name="use-the-page-diagnostics-tool-for-sharepoint-online"></a><span data-ttu-id="50a29-103">SharePoint Online のページ診断ツールを使用する</span><span class="sxs-lookup"><span data-stu-id="50a29-103">Use the Page Diagnostics tool for SharePoint Online</span></span>

<span data-ttu-id="50a29-104">この記事では、ページ診断ツールを使用して、従来のチームサイトにある従来の発行ページとページを分析する方法について説明し、 **SharePoint Online**の推奨されるプラクティスのサブセットについて説明します。</span><span class="sxs-lookup"><span data-stu-id="50a29-104">This article describes how you can use the Page Diagnostic tool to analyze your classic publishing pages and pages on classic team sites, against a subset of recommended practices in **SharePoint Online**.</span></span> 
  
<span data-ttu-id="50a29-105">公開が有効になっていないチームサイトは、CDNs を使用できませんが、残りのすべてのルールは適用可能です。</span><span class="sxs-lookup"><span data-stu-id="50a29-105">Team sites that don't have Publishing enabled cannot make use of CDNs but all of the remaining rules are applicable.</span></span> <span data-ttu-id="50a29-106">発行によってオーバーヘッドが増加するので、ページの読み込み時間に悪影響を及ぼすことがあるので、CDN 機能を取得するためだけに発行を有効にしないようにしてください。</span><span class="sxs-lookup"><span data-stu-id="50a29-106">Publishing adds additional overhead so do not turn on Publishing just to get the CDN functionality as it will negatively impact page load times.</span></span>

<span data-ttu-id="50a29-107">**1.05 がリリースされていることに注意してください。拡張機能をインストールしている場合は、更新してください**。</span><span class="sxs-lookup"><span data-stu-id="50a29-107">**Please note that V1.05 has been released so please update your extension if you have it installed already**.</span></span> <span data-ttu-id="50a29-108">使用しているバージョンがわからない場合は、[バージョン情報] リンクをクリックして確認してください。</span><span class="sxs-lookup"><span data-stu-id="50a29-108">If you are unsure which version you have then please click the "About" link to verify it.</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="50a29-109">このツールは SharePoint サイトページをレビューするように設計されているため、ページ診断ツールはドキュメントライブラリまたはシステムページに対して実行されません。</span><span class="sxs-lookup"><span data-stu-id="50a29-109">The Page Diagnostics tool will not run against document libraries or system pages, as the tool is designed to review SharePoint site pages.</span></span> <span data-ttu-id="50a29-110">*Allitems*ページはシステムページです。</span><span class="sxs-lookup"><span data-stu-id="50a29-110">An  *allitems.aspx*  page is a system page.</span></span> <span data-ttu-id="50a29-111">システムページでツールを実行しようとすると、"このアプリケーションは SharePoint ページ上でのみ実行する必要があります" というメッセージが表示されます。</span><span class="sxs-lookup"><span data-stu-id="50a29-111">If you attempt to run the tool on a system page, you will get a message that reads, "This application should only be run on SharePoint pages."</span></span> <br/> <span data-ttu-id="50a29-112">![SharePoint ページ上で実行する必要がある](media/34aadfff-1009-496b-9c87-4fc2780e017c.png)</span><span class="sxs-lookup"><span data-stu-id="50a29-112">![Must run on a SharePoint page](media/34aadfff-1009-496b-9c87-4fc2780e017c.png)</span></span><br/><span data-ttu-id="50a29-113">このツールでは、[ライブラリまたはシステムページの評価] に値がないため、このエラーは発生しません。</span><span class="sxs-lookup"><span data-stu-id="50a29-113">This is not an error in the tool as there is no value in assessing libraries or system pages.</span></span> <span data-ttu-id="50a29-114">このツールを使用するには、システム以外の SharePoint ページに移動してください。</span><span class="sxs-lookup"><span data-stu-id="50a29-114">Please navigate to a non-system SharePoint page to use the tool.</span></span> <span data-ttu-id="50a29-115">これが SharePoint ページで発生した場合は、お客様が sharepoint メタタグを削除した後、ページが SharePoint ページではなくなっていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="50a29-115">If this occurs on a SharePoint page then please check the MasterPage as we have seen Customers remove the SharePoint MetaTags and then the page is no longer a SharePoint page.</span></span> <span data-ttu-id="50a29-116">ツールに関するフィードバックをお寄せください。 [バージョン情報] タブをクリックして、[フィードバックの送信][リンク](https://go.microsoft.com/fwlink/?linkid=874109)に従います。</span><span class="sxs-lookup"><span data-stu-id="50a29-116">Should you wish to give feedback about the tool please click the About tab and follow the [give feedback link](https://go.microsoft.com/fwlink/?linkid=874109).</span></span> 
  
## <a name="install-the-page-diagnostic-tool"></a><span data-ttu-id="50a29-117">ページ診断ツールをインストールする</span><span class="sxs-lookup"><span data-stu-id="50a29-117">Install the Page Diagnostic tool</span></span>

> [!IMPORTANT]
> <span data-ttu-id="50a29-118">Microsoft では、アクセスしたデータや web サイトを読み取ることはありません。このツールを使用して、個人情報、web サイト、ダウンロード情報を取得することはありません。</span><span class="sxs-lookup"><span data-stu-id="50a29-118">Microsoft does not read the data or websites you visit, and we do not capture any personal information, website or download information with this tool.</span></span> <span data-ttu-id="50a29-119">ツールによってログに記録される情報は、テナント名、ルールの数、およびツールの実行時に [サポートログ] オプションが使用されているかどうかです。</span><span class="sxs-lookup"><span data-stu-id="50a29-119">The only information logged by the tool is the Tenant name, Rule count and whether the support logging option has been utilized when the tool is run.</span></span> <span data-ttu-id="50a29-120">この情報は、Microsoft がお客様によってどのような課題が発生しているかを分析し、サポートログ機能が悪用されないようにするためのものです。</span><span class="sxs-lookup"><span data-stu-id="50a29-120">This information is for Microsoft to analyze what challenges are being experienced by our Customers and to ensure the Support logging capability is not being misused.</span></span>

1. <span data-ttu-id="50a29-121">Chrome ブラウザーを使用して、[ツールへ](https://chrome.google.com/webstore/detail/inahogkhlkbkjkkaleonemeijihmfagi)の直接リンクを開くか、 [Chrome browser Webstore](https://chrome.google.com/webstore/search/page%20diagnostics%20for%20sharepoint)で検索を開き、ブラウザー拡張機能をインストールします。</span><span class="sxs-lookup"><span data-stu-id="50a29-121">Using a Chrome browser, open the [link to the tool](https://chrome.google.com/webstore/detail/inahogkhlkbkjkkaleonemeijihmfagi) directly or open the Search in the [Chrome Browser WebStore](https://chrome.google.com/webstore/search/page%20diagnostics%20for%20sharepoint) and install the browser extension.</span></span> <span data-ttu-id="50a29-122">ストアの [説明] ページで提供されるユーザーのプライバシーポリシーを確認してください。</span><span class="sxs-lookup"><span data-stu-id="50a29-122">Please review the User Privacy Policy provided on the description page in the store.</span></span> <span data-ttu-id="50a29-123">このツールをブラウザーに追加すると、次のアクセス許可に関する通知が表示されます。</span><span class="sxs-lookup"><span data-stu-id="50a29-123">When adding the tool to your browser, you will see the following permissions notice.</span></span><br/><span data-ttu-id="50a29-124">![Chrome ストアのアクセス許可](media/e9fbcef0-1171-43ac-8ea8-c2b5be1b7925.png)</span><span class="sxs-lookup"><span data-stu-id="50a29-124">![Chrome Store permissions](media/e9fbcef0-1171-43ac-8ea8-c2b5be1b7925.png)</span></span><br/>   <span data-ttu-id="50a29-125">ページには、ページの web パーツとカスタマイズに応じて、SharePoint の外部にある場所のコンテンツが含まれている可能性があるため、この通知が行われます。</span><span class="sxs-lookup"><span data-stu-id="50a29-125">This notice is in place because a page may contain content from locations outside of SharePoint depending on the webparts and customizations on the page.</span></span> <span data-ttu-id="50a29-126">これは、ツールが実行されているアクティブな SharePoint タブでのみ [開始] ボタンがクリックされたときに、要求と応答を読み取ることを意味します。</span><span class="sxs-lookup"><span data-stu-id="50a29-126">This means that the tool will read the requests and responses when the start button is clicked and only for the active SharePoint tab where the tool is running.</span></span> <span data-ttu-id="50a29-127">この情報は web ブラウザーによってローカルにキャプチャされ、ツールの [JSON へのエクスポート] リンクを介して利用できます。</span><span class="sxs-lookup"><span data-stu-id="50a29-127">That information is captured locally by the web browser and is available to you via the Export to JSON link in the tool.</span></span> <span data-ttu-id="50a29-128">**情報は、Microsoft によって送信または取得されることはありません。**</span><span class="sxs-lookup"><span data-stu-id="50a29-128">**The information is not sent to or captured by Microsoft.**</span></span> <span data-ttu-id="50a29-129">([こ](https://go.microsoft.com/fwlink/p/?linkid=857875)のツールでは、Microsoft のプライバシーポリシーにアクセスできます)。</span><span class="sxs-lookup"><span data-stu-id="50a29-129">(The tool respects the Microsoft Privacy policy accessible [here](https://go.microsoft.com/fwlink/p/?linkid=857875).)</span></span><br/><br/><span data-ttu-id="50a29-130">ツールの "JSON へのエクスポート" 機能も、"ダウンロードを管理する" アクセス許可が必要な理由になっています。</span><span class="sxs-lookup"><span data-stu-id="50a29-130">The "Export to JSON" functionality in the tool is also why the "Manage your downloads" permission is needed.</span></span> <span data-ttu-id="50a29-131">結果に Url が含まれており、PII (個人を特定できる情報) として分類できるため、組織の外部で JSON ファイルを共有する前に、会社のプライバシーガイドラインに従ってください。</span><span class="sxs-lookup"><span data-stu-id="50a29-131">Please follow your Company's own Privacy guidelines before sharing the JSON file outside of your organization, as the results contain URLs and that can be classified as PII (Personally Identifiable Information).</span></span>
    
2. <span data-ttu-id="50a29-132">(オプション)このツールを Chrome incognito モードで使用する場合は、拡張機能に移動して、 **incognito で [許可**] をクリックします。</span><span class="sxs-lookup"><span data-stu-id="50a29-132">(This is optional) If you want to use the tool in Chrome incognito mode, navigate to the extension and click **allow in incognito**.</span></span>
    
3. <span data-ttu-id="50a29-133">確認したい sharepoint Online の SharePoint の従来の発行ページに移動します。</span><span class="sxs-lookup"><span data-stu-id="50a29-133">Navigate to the SharePoint classic publishing page on SharePoint Online that you would like to review.</span></span> <span data-ttu-id="50a29-134">ページ上のアイテムの "遅延読み込み" が許可されています。そのため、**ツールは自動的に停止しません**。</span><span class="sxs-lookup"><span data-stu-id="50a29-134">We have allowed for "delay loading" of items on pages; therefore, the **tool will not stop automatically**.</span></span> <span data-ttu-id="50a29-135">コレクションを停止するには、[**停止**] をクリックします。</span><span class="sxs-lookup"><span data-stu-id="50a29-135">Should you wish to stop collection, you can click **Stop**.</span></span> <span data-ttu-id="50a29-136">(これは、すべてのページ読み込みシナリオを満たすように設計されています。)[**停止**] をクリックする前に、ネットワークトレースデータが完成していることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="50a29-136">(This is by design to cater for all page load scenarios.) Before you click **Stop**, make sure that the network trace data is complete.</span></span> <span data-ttu-id="50a29-137">それ以外の場合は、一部のトレースがあります。</span><span class="sxs-lookup"><span data-stu-id="50a29-137">Otherwise, you will have a partial trace.</span></span> <span data-ttu-id="50a29-138">さらに、このツールはブラウザー拡張機能であり、複数のタブまたはウィンドウを開くと、ツールのアクティブなインスタンスが一度に1つだけ実行できるようになります。</span><span class="sxs-lookup"><span data-stu-id="50a29-138">Additionally, the tool is a Browser Extension, and opening multiple tabs or windows will only allow one active instance of the tool to be run at one time.</span></span> <span data-ttu-id="50a29-139">これは、ブラウザーの拡張機能の制限事項です。</span><span class="sxs-lookup"><span data-stu-id="50a29-139">This is a limitation of extensions in the browser.</span></span> 
  
4. <span data-ttu-id="50a29-140">拡張機能ロゴをクリックします。</span><span class="sxs-lookup"><span data-stu-id="50a29-140">Click on the Extension logo</span></span> ![SharePoint ロゴのページ診断](media/60a3e44d-1b59-483f-b50f-d580044d921a.png) <span data-ttu-id="50a29-142">ツールを読み込むと、次の拡張子ポップアップウィンドウが表示されます。</span><span class="sxs-lookup"><span data-stu-id="50a29-142">to load the tool and you will be presented with the following extension popup window:</span></span><br/> ![ページ診断ツールのポップアップ](media/b01fa00e-c5f3-4c37-91f2-6edd096cf87e.png)<br/><span data-ttu-id="50a29-144">開始および停止操作は、[開始] をクリックしたときの基本的な概念に従います。ページが再読み込みされ、コレクションが開始されます。</span><span class="sxs-lookup"><span data-stu-id="50a29-144">Start and stop operations follow the basic concept of when you click start the page will reload and collection will begin.</span></span>

<span data-ttu-id="50a29-145">このツールで提供される情報の詳細については、以下のセクションを参照してください。</span><span class="sxs-lookup"><span data-stu-id="50a29-145">Read the following sections to learn more about the information provided in the tool.</span></span>

## <a name="what-youll-see-in-the-page-diagnostics-tool"></a><span data-ttu-id="50a29-146">ページ診断ツールに表示される内容</span><span class="sxs-lookup"><span data-stu-id="50a29-146">What you'll see in the Page Diagnostics tool</span></span>
    
1. <span data-ttu-id="50a29-147">**About**リンクは、この記事へのリンクを含む、ツールに関する一般的なガイダンスと詳細情報を提供します。</span><span class="sxs-lookup"><span data-stu-id="50a29-147">The **About** link will provide general guidance and details regarding the tool including a link back to this article.</span></span> <span data-ttu-id="50a29-148">また、SharePoint のパフォーマンスに関する推奨事項、サードパーティからの通知、ツールに関するフィードバックを提供するためのオプションへの直接リンクも含まれています。</span><span class="sxs-lookup"><span data-stu-id="50a29-148">It also includes a direct link to SharePoint Performance recommendations, a Third Party notice and an option to provide feedback about the tool.</span></span> 
    
2. <span data-ttu-id="50a29-149">**関連付け ID、SPRequestDuration、Sprequestduration**、**ページ読み込み時間**、および**URL**の詳細は情報で、いくつかの目的に使用できます。</span><span class="sxs-lookup"><span data-stu-id="50a29-149">The **Correlation ID, SPRequestDuration, SPIISLatency**, **Page load time**, and **URL** details are informational and can be used for a few purposes.</span></span> 
    
  - <span data-ttu-id="50a29-150">**CorrelationID**は、Microsoft サポートチームと協力して、追加の診断データを取得することができる重要な要素です。</span><span class="sxs-lookup"><span data-stu-id="50a29-150">**CorrelationID** is an important element when working with the Microsoft Support Teams as it allows them to pull additional diagnostic data.</span></span> 
    
  - <span data-ttu-id="50a29-151">**Sprequestduration**は、ページを処理するのにかかるサーバー時間です。</span><span class="sxs-lookup"><span data-stu-id="50a29-151">**SPRequestDuration** is the server time taken to process the page.</span></span> <span data-ttu-id="50a29-152">この時間が長い場合は、サーバーが正しく動作していないことを意味するわけではありませんが、ページによって呼び出された呼び出しの数を反映することもできます。構造ナビゲーション、大きい画像、多くの API 呼び出しが、サーバーの時間を長くする可能性があります。.</span><span class="sxs-lookup"><span data-stu-id="50a29-152">If this time is long, it does not necessarily mean that the server was performing badly but can also reflect the number of calls and load pushed by the page to the server e.g. Structural Navigation, large images, lots of API calls could all contribute to longer server time.</span></span> 
    
  - <span data-ttu-id="50a29-153">**Spiislatency**は、Web フロントエンドサーバーがページの読み込み要求を受信したときに実行されたミリ秒単位の時間です。</span><span class="sxs-lookup"><span data-stu-id="50a29-153">**SPIISLatency** is the time in milliseconds taken on the Web Front End Server when it receives the request to load the page.</span></span> <span data-ttu-id="50a29-154">これは、ページの処理を開始するまでの待機時間を示す指標で、web アプリケーションが応答するのにかかる時間は含まれません。</span><span class="sxs-lookup"><span data-stu-id="50a29-154">This is an indicator of latency to start processing the page and does not include the time taken for the web application to respond.</span></span> 
    
  - <span data-ttu-id="50a29-155">[**ページの読み込み時間**] は、ブラウザーによって応答が受信された時点までの、要求の時間からページによって記録された時間です。</span><span class="sxs-lookup"><span data-stu-id="50a29-155">**Page load time** is the time recorded by the page from the time of the request to the time the response was received and read by the browser.</span></span> <span data-ttu-id="50a29-156">追加の時間は、コンピューターのパフォーマンスとブラウザーの読み込みにかかる時間によって変化します。</span><span class="sxs-lookup"><span data-stu-id="50a29-156">Any additional time is affected by the performance of the computer and the time it takes for the browser to load.</span></span> 
    
  - <span data-ttu-id="50a29-157">**URL** (Uniform resource Locator) は、現在のページの web アドレスです。</span><span class="sxs-lookup"><span data-stu-id="50a29-157">The **URL** (Uniform Resource Locator) is the web address of the current page.</span></span> 
    
3. <span data-ttu-id="50a29-158">[ [**診断**] タブ](#how-to-use-the-diagnostic-tab)にはルールが一覧表示され、それらのいずれか![が](media/9859ac84-be43-4eae-984c-e0e827f5a228.png)赤い十字でマークされている場合は、ページ上で問題が特定されています。</span><span class="sxs-lookup"><span data-stu-id="50a29-158">The [**Diagnostic** tab](#how-to-use-the-diagnostic-tab) will list the rules and if any of them are marked with a red ![Cross](media/9859ac84-be43-4eae-984c-e0e827f5a228.png), then there are issues identified on the page.</span></span><br/><span data-ttu-id="50a29-159">各ルールには、アイテムが赤の場合にクリックする "詳細情報" リンクがあります。</span><span class="sxs-lookup"><span data-stu-id="50a29-159">Each rule has its own "more information" link that you click if an item is red.</span></span> <span data-ttu-id="50a29-160">これにより、そのルールの詳細と問題を修復する方法が得られます。</span><span class="sxs-lookup"><span data-stu-id="50a29-160">That will take you to the details behind that rule and how to remediate the issue.</span></span><br/><span data-ttu-id="50a29-161">![診断赤-ルールのオープン](media/1598f0f7-3103-4613-8787-dfec6fffd40a.png)</span><span class="sxs-lookup"><span data-stu-id="50a29-161">![Diagnostics Red - Rule open](media/1598f0f7-3103-4613-8787-dfec6fffd40a.png)</span></span>

4. <span data-ttu-id="50a29-162">[ [**ネットワークトレース**] タブ](#how-to-use-the-network-trace-tab)には、ページのビルド要求と応答に関する詳細が表示されます。</span><span class="sxs-lookup"><span data-stu-id="50a29-162">A [**Network trace** tab](#how-to-use-the-network-trace-tab) provides details about page build requests and responses.</span></span>

## <a name="how-to-use-the-diagnostic-tab"></a><span data-ttu-id="50a29-163">[診断] タブの使用方法</span><span class="sxs-lookup"><span data-stu-id="50a29-163">How to use the Diagnostic tab</span></span>

1. <span data-ttu-id="50a29-164">**標準ユーザーとして実行を確認**する ページのパフォーマンスのチェックは、サービスアカウント、管理者またはサイトコレクションの管理者、または昇格した権限を持つ任意のアカウントとしてログインしている場合は実行しないでください。</span><span class="sxs-lookup"><span data-stu-id="50a29-164">**Check Running as Standard User**  Checking page performance should not be performed when logged in as a Service Account, Administrator or Site Collection Administrator, or any account with elevated privileges.</span></span> <span data-ttu-id="50a29-165">そのような種類のアカウントには、特別なスクリプトと機能が組み込まれているため、ページのパフォーマンスが実際には表示されません。</span><span class="sxs-lookup"><span data-stu-id="50a29-165">Additional scripts and functionality are loaded specifically for those types of accounts, so the results will not be a true representation of page performance.</span></span>
    
2. <span data-ttu-id="50a29-166">**SharePoint への要求を確認する** サーバーに対して行われるデータと要求の量は、オーバーロードされたページのように制限する必要がありますが、パフォーマンスが低下します。</span><span class="sxs-lookup"><span data-stu-id="50a29-166">**Check Requests to SharePoint**  The amount of data and requests made to the server should be limited as an overloaded page will experience poor performance.</span></span> <span data-ttu-id="50a29-167">このチェックは、SharePoint に対して行われる要求の数を確認し、要求が6要求を超えたときに通知されます。</span><span class="sxs-lookup"><span data-stu-id="50a29-167">This check verifies the number of requests being made to SharePoint and will advise when the requests exceed 6 requests.</span></span> <span data-ttu-id="50a29-168">ほとんどの要求はキャッシュされる必要があるため、すべてのページ読み込みに対して呼び出されることはありません。</span><span class="sxs-lookup"><span data-stu-id="50a29-168">Most requests should be cached and therefore not called for every page load.</span></span> <span data-ttu-id="50a29-169">各ユーザーによるページへの呼び出しの量を減らすには、キャッシュを少なくとも15分でセットアップして使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="50a29-169">Cache should be setup and utilized for at least 15 minutes to reduce the amount of calls to a page by each and every User.</span></span> <span data-ttu-id="50a29-170">これは一般的な問題であり、ほとんどの場合、データのみが変更されますが、このページでは、各ユーザーのページごとに毎回データをチェックおよびフェッチする必要があります。</span><span class="sxs-lookup"><span data-stu-id="50a29-170">This is a common problem and in most cases data only changes daily but the page checks and fetches data each time for each page for each user which is often unnecessary.</span></span>
    
3. <span data-ttu-id="50a29-171">**CDNs の使用を確認する** コンテンツ配信ネットワーク (CDNs) は Microsoft によって提供されており、ここで参照されているものは SharePoint Online コンテンツ配信ネットワークです。</span><span class="sxs-lookup"><span data-stu-id="50a29-171">**Check using CDNs**  Content Delivery networks (CDNs) have been provided by Microsoft and the ones referred to here are the SharePoint Online Content Delivery Networks.</span></span> <span data-ttu-id="50a29-172">複数の種類があり、SharePoint CDNs などのさまざまな CDN サービス、Azure での CDNs などがあります。</span><span class="sxs-lookup"><span data-stu-id="50a29-172">There are multiple types available as well as different CDN services like SharePoint CDNs and then CDNs in Azure.</span></span> <span data-ttu-id="50a29-173">[次のガイダンスを使用して](https://go.microsoft.com/fwlink/?linkid=873250)ください。</span><span class="sxs-lookup"><span data-stu-id="50a29-173">[Use the following guidance](https://go.microsoft.com/fwlink/?linkid=873250).</span></span>
    
4. <span data-ttu-id="50a29-174">**画像のサイズが大きいかどうかを確認する** PNG などのより良い web の種類を利用することにより、画像を web 用に最適化する必要があります。</span><span class="sxs-lookup"><span data-stu-id="50a29-174">**Check for Large Image Sizes**  Images should be optimized for web by utilizing better web types like PNG.</span></span> <span data-ttu-id="50a29-175">また、画像レンディションも使用する必要があり、SharePoint で直接利用できます。</span><span class="sxs-lookup"><span data-stu-id="50a29-175">Image renditions should also be utilized and is available in SharePoint directly.</span></span> <span data-ttu-id="50a29-176">100kb より大きい画像/イメージ表示は、web 用に最適化されていないと強調表示されます。</span><span class="sxs-lookup"><span data-stu-id="50a29-176">Images / image renditions larger than 100kb will be highlighted as not optimized for web.</span></span> <span data-ttu-id="50a29-177">[画像を最適化するには、以下のガイダンスを使用](https://go.microsoft.com/fwlink/?linkid=873251)します。</span><span class="sxs-lookup"><span data-stu-id="50a29-177">[Use the following guidance for optimizing images](https://go.microsoft.com/fwlink/?linkid=873251).</span></span>
    
5. <span data-ttu-id="50a29-178">**構造ナビゲーションを確認する** 構造ナビゲーションは、本来、オブジェクトキャッシュを利用できる SharePoint オンプレミスで使用するために設計されていました。</span><span class="sxs-lookup"><span data-stu-id="50a29-178">**Check for Structural Navigation**  Structural Navigation was originally designed for use in SharePoint on-Premises where object cache could be utilized.</span></span> <span data-ttu-id="50a29-179">構造ナビゲーションは、SharePoint Online での使用は推奨されておらず、管理ナビゲーションまたはカスタムプロバイダーに変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="50a29-179">Structural Navigation is not recommended for use in SharePoint Online and should be changed to Managed Navigation or a Custom Provider.</span></span> [<span data-ttu-id="50a29-180">ナビゲーションを最適化するには、以下のガイダンスを使用します。</span><span class="sxs-lookup"><span data-stu-id="50a29-180">Use the following guidance for optimizing navigation.</span></span>](https://go.microsoft.com/fwlink/?linkid=873247)
    
6. <span data-ttu-id="50a29-181">**CBQ WebPart を確認する**(CBQ-クエリ Web パーツのコンテンツ) コンテンツクエリ Web パーツは、各ユーザーについて、クエリ内のすべてのアイテムと各ページの読み込みをトラバースするため、高レベルの SQL ロードを生成します。</span><span class="sxs-lookup"><span data-stu-id="50a29-181">**Check for CBQ WebPart** (CBQ - Content by Query WebPart)  The Content by Query WebPart generates a high SQL load as it traverses all items in the query for each and every page load, for each User.</span></span> <span data-ttu-id="50a29-182">オンプレミスのインストールとは異なり、この Web パーツを設定するために必要なクエリの数を制限するために使用できるキャッシュはありません。</span><span class="sxs-lookup"><span data-stu-id="50a29-182">Unlike an on-Premises installation, there is no cache available to limit the number of queries needed to populate this WebPart.</span></span> <span data-ttu-id="50a29-183">このような CBQ の実行には時間がかかり、ページの全体的なパフォーマンスが影響を受けるため、使用しないようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="50a29-183">As such CBQ performs slowly and impacts overall page performance which is why it should not be utilized.</span></span> <span data-ttu-id="50a29-184">コンテンツ検索 Web パーツ (CSWP) をコンテンツクエリ Web パーツの代替として使用してください。</span><span class="sxs-lookup"><span data-stu-id="50a29-184">Please use the Content Search WebPart (CSWP) as the replacement for the Content Query WebPart.</span></span> <span data-ttu-id="50a29-185">[コンテンツ検索 Web パーツに関連する次のガイダンスを使用](https://go.microsoft.com/fwlink/?linkid=873245)します。</span><span class="sxs-lookup"><span data-stu-id="50a29-185">[Use the following guidance related to the Content Search WebPart](https://go.microsoft.com/fwlink/?linkid=873245).</span></span>

## <a name="how-to-use-the-network-trace-tab"></a><span data-ttu-id="50a29-186">[ネットワークトレース] タブの使用方法</span><span class="sxs-lookup"><span data-stu-id="50a29-186">How to use the Network Trace tab</span></span>
    
<span data-ttu-id="50a29-187">[**ネットワークトレース**] タブには、ページを作成するための要求と受信した応答に関する詳細情報が表示されます。</span><span class="sxs-lookup"><span data-stu-id="50a29-187">The **Network Trace** tab provides detailed information about the requests to build the page as well as the responses received.</span></span> 

1. <span data-ttu-id="50a29-188">**赤としてフラグが付けられたアイテムの読み込み時刻を検索**します。</span><span class="sxs-lookup"><span data-stu-id="50a29-188">**Look for item load times flagged as red**.</span></span> <span data-ttu-id="50a29-189">各要求と応答のパフォーマンスは、次のようにページ全体のパフォーマンスに与える影響に基づいて色分けされています。</span><span class="sxs-lookup"><span data-stu-id="50a29-189">The performance of each request and response are color coded, based on their impact on the overall page performance  as follows:</span></span>
- <span data-ttu-id="50a29-190">緑: \< 500ms</span><span class="sxs-lookup"><span data-stu-id="50a29-190">Green: \< 500ms</span></span>
- <span data-ttu-id="50a29-191">黄: 500-1000 ミリ秒</span><span class="sxs-lookup"><span data-stu-id="50a29-191">Yellow: 500-1000ms</span></span>
- <span data-ttu-id="50a29-192">赤: \> 1000 ミリ秒</span><span class="sxs-lookup"><span data-stu-id="50a29-192">Red: \> 1000ms</span></span>
<br/><span data-ttu-id="50a29-193">![ネットワークトレース](media/3cfede99-7d31-4041-888d-7bbc275cadc2.png)</span><span class="sxs-lookup"><span data-stu-id="50a29-193">![Network Trace](media/3cfede99-7d31-4041-888d-7bbc275cadc2.png)</span></span><br/> <span data-ttu-id="50a29-194">上記の図では、赤の項目が既定のページに関連しています。</span><span class="sxs-lookup"><span data-stu-id="50a29-194">In the image shown above, the red item pertains to the default page.</span></span> <span data-ttu-id="50a29-195">ページが1000ミリ秒 (1 秒未満) \<で読み込まれない限り、常に赤で表示されます。</span><span class="sxs-lookup"><span data-stu-id="50a29-195">It will always show red unless the page loads in \< 1000ms (less than 1 second).</span></span>

2. <span data-ttu-id="50a29-196">**テストアイテムの読み込み時間**。</span><span class="sxs-lookup"><span data-stu-id="50a29-196">**Test item load times**.</span></span> <span data-ttu-id="50a29-197">アイテムはブラウザーによって既にキャッシュされているため、時間やカラーインジケーターが表示されない場合があります。</span><span class="sxs-lookup"><span data-stu-id="50a29-197">In some cases there will be no time or color indicator because the items have already been cached by the browser.</span></span> <span data-ttu-id="50a29-198">この問題を正しくテストするには、ページを開き、ブラウザーのキャッシュをクリアしてから [**開始**] をクリックします。これにより、ページの読み込みが強制的に "コールド" され、最初のページ読み込みが実際に反映されるようになります。</span><span class="sxs-lookup"><span data-stu-id="50a29-198">To test this correctly, open the page, clear browser cache, and then click **Start** as that will force a "cold" page load and be a true reflection of the initial page load.</span></span> <span data-ttu-id="50a29-199">これは、ページ上でキャッシュされているアイテムを特定するのに役立つように、"ウォーム" ページ読み込みと比較する必要があります。</span><span class="sxs-lookup"><span data-stu-id="50a29-199">This should then be compared to the "warm" page load as that will also help determine what items are being cached on the page.</span></span> 
    
3. <span data-ttu-id="50a29-200">**関連する詳細情報を他のユーザーと共有して、問題の調査に役立てることができ**ます。</span><span class="sxs-lookup"><span data-stu-id="50a29-200">**Share relevant details with others who can help investigate issues**.</span></span> <span data-ttu-id="50a29-201">ツールで提供される詳細または情報を開発者や技術サポート担当者と共有するには、[ **JSON へのエクスポート**] をクリックします (上記の図を参照)。</span><span class="sxs-lookup"><span data-stu-id="50a29-201">To share the details or information provided in the tool with your developers or a technical support person, click **Export to JSON** (as shown in the image above).</span></span> <span data-ttu-id="50a29-202">これにより、JSON ファイルビューアーを使用して、結果をダウンロードできるようになります。</span><span class="sxs-lookup"><span data-stu-id="50a29-202">That will enable you to download the results, viewable with a JSON file viewer.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="50a29-203">これらの結果には Url が含まれており、PII (個人を特定できる情報) として分類することができます。</span><span class="sxs-lookup"><span data-stu-id="50a29-203">These results contain URLs and that can be classified as PII (Personally Identifiable Information).</span></span> <span data-ttu-id="50a29-204">その情報を配布する前に、組織のガイドラインに従っていることを確認してください。</span><span class="sxs-lookup"><span data-stu-id="50a29-204">Make sure to follow your organization's guidelines before distributing that information.</span></span> 

## <a name="engaging-with-microsoft-support"></a><span data-ttu-id="50a29-205">Microsoft サポートへの協力</span><span class="sxs-lookup"><span data-stu-id="50a29-205">Engaging with Microsoft Support</span></span>
   
<span data-ttu-id="50a29-206">サポートが必要な場合にのみ、パフォーマンスを向上させるために使用する必要がある**Microsoft サポートレベルの機能**が含まれています。</span><span class="sxs-lookup"><span data-stu-id="50a29-206">We have included a **Microsoft Support level feature** that should only be utilized when working directly on a Support Case for performance.</span></span> <span data-ttu-id="50a29-207">この機能を利用することによって、サポートチームなしで使用する場合のメリットはありません。</span><span class="sxs-lookup"><span data-stu-id="50a29-207">Utilizing this feature will provide no benefit to you when used without our Support team.</span></span> <span data-ttu-id="50a29-208">実際には、ページのパフォーマンスが大幅に低下し、機能の継続的な使用がサービスの "誤用" と見なされることがあります。</span><span class="sxs-lookup"><span data-stu-id="50a29-208">It will in fact make the page perform significantly slower and continued use of the feature may be considered "misuse" of the service.</span></span> <span data-ttu-id="50a29-209">この機能をツールで使用するときに、追加情報がサービスのログに追加されるため、追加情報はありません。</span><span class="sxs-lookup"><span data-stu-id="50a29-209">There is no additional information when using this feature in the tool as the additional information is added to the logging in the service.</span></span> 

<span data-ttu-id="50a29-210">変更は表示されません。ただし、有効になっていることが通知され、ページのパフォーマンスが大幅に低下するのは、有効になっている場合には、2-3 倍のパフォーマンス低下になります。</span><span class="sxs-lookup"><span data-stu-id="50a29-210">No change is visible except that you will be notified that you have enabled it and your page performance will be significantly degraded by 2-3 times slower performance whilst that is enabled.</span></span> <span data-ttu-id="50a29-211">これは特定のページとアクティブなセッションにのみ関連しています。</span><span class="sxs-lookup"><span data-stu-id="50a29-211">It will only be relevant for the particular page and that active session.</span></span> <span data-ttu-id="50a29-212">このため、この方法は、サポートチームに積極的に従事している場合に限って使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="50a29-212">For this reason, this should be used sparingly and only when actively engaged with our Support Team.</span></span>

### <a name="to-enable-the-microsoft-support-level-feature"></a><span data-ttu-id="50a29-213">Microsoft サポートレベル機能を有効にするには</span><span class="sxs-lookup"><span data-stu-id="50a29-213">To enable the Microsoft Support level feature</span></span>

1. <span data-ttu-id="50a29-214">ページ診断ツールを開きます。</span><span class="sxs-lookup"><span data-stu-id="50a29-214">Open the Page Diagnostics tool.</span></span>
2. <span data-ttu-id="50a29-215">キーボードで、ALT + Shift + L キーを押します。</span><span class="sxs-lookup"><span data-stu-id="50a29-215">On your keyboard, press ALT-Shift-L.</span></span> <span data-ttu-id="50a29-216">これにより、**サポートレベルのログ出力**が表示されます。</span><span class="sxs-lookup"><span data-stu-id="50a29-216">This will display **Enable support level logging**.</span></span> 
3. <span data-ttu-id="50a29-217">チェックボックスをオンにし、[**開始**] をクリックしてページを再読み込みし、分析のサポートのために詳細ログを生成します。</span><span class="sxs-lookup"><span data-stu-id="50a29-217">Select the checkbox, and then click **start** to reload the page and generate verbose logging for Support to analyze.</span></span><br/><span data-ttu-id="50a29-218">![サポートオプションが有効](media/ddef47de-8593-4b28-9346-eb48ebf6cdab.png)</span><span class="sxs-lookup"><span data-stu-id="50a29-218">![Support Option Enabled](media/ddef47de-8593-4b28-9346-eb48ebf6cdab.png)</span></span>
  
<span data-ttu-id="50a29-219">このことは、サポートチームがその番号を利用して必要な情報を抽出することで、このための重要な要素となります。</span><span class="sxs-lookup"><span data-stu-id="50a29-219">An important element for this is the CorrelationID as the Support team will then utilize that number to extract the information needed.</span></span> <span data-ttu-id="50a29-220">CorrelationID (Page Diagnostics tool の上部にあります) をコピーして、完全な ID なしで必要な作業を行うことができないため、サポートするようにしてください。</span><span class="sxs-lookup"><span data-stu-id="50a29-220">Please copy the CorrelationID (at the top of the Page Diagnostics tool) and provide that to Support as they cannot perform the required work without the complete ID.</span></span>
    
## <a name="related-topics"></a><span data-ttu-id="50a29-221">関連項目</span><span class="sxs-lookup"><span data-stu-id="50a29-221">Related topics</span></span>

[<span data-ttu-id="50a29-222">SharePoint Online のパフォーマンスをチューニングする</span><span class="sxs-lookup"><span data-stu-id="50a29-222">Tune SharePoint Online performance</span></span>](tune-sharepoint-online-performance.md)

[<span data-ttu-id="50a29-223">Office 365 のパフォーマンスをチューニングする</span><span class="sxs-lookup"><span data-stu-id="50a29-223">Tune Office 365 performance</span></span>](tune-office-365-performance.md)

[<span data-ttu-id="50a29-224">コンテンツ配信ネットワーク</span><span class="sxs-lookup"><span data-stu-id="50a29-224">Content delivery networks</span></span>](content-delivery-networks.md)
